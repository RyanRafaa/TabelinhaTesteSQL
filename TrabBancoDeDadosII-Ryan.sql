/*Ryan Rafael Rocha
	AnÃ¡lise e Desenvolvimento de Sistemas

	Trabalho BANCO DE DADOS II*/



/*#1*/
CREATE TABLE PRODUTO(
    ID SERIAL,
    CODIGO VARCHAR (3) NOT NULL,
    DESCRICAO VARCHAR (100) NOT NULL,
    UNIDADEMEDIDA VARCHAR (2) NOT NULL,
    VALOR NUMERIC (10,2) NOT NULL,
    CUSTO NUMERIC (10,2) NOT NULL,
    DATACADASTRO DATE NOT NULL,
    INATIVO BOOLEAN
);

/*#2*/
ALTER TABLE PRODUTO ADD CONSTRAINT PK_PRODUTO PRIMARY KEY (ID); 
SELECT * FROM PRODUTO;

/*#3*/
INSERT INTO PRODUTO (CODIGO,DESCRICAO,UNIDADEMEDIDA,VALOR,CUSTO,DATACADASTRO,INATIVO)
VALUES ('P01','REFRIGERANTE 2L','UN',5.99,4.00,'2022-01-10',FALSE),
       ('P02','ALFACE','KG',0.99,0.70,'2022-01-10',FALSE),  
	   ('P03','ARROZ 5KG','UN',19.99,18.59,'2022-01-10',FALSE),
	   ('P04','FEIJAO 1KG','UN',5.99,4.99,'2022-01-10',FALSE),
	   ('P05','CERVEJA 600ML','UN',2.99,2.49,'2022-01-10',FALSE),
	   ('P06','AMENDOIN 500G','UN',2.50,2.00,'2022-02-12',FALSE),
	   ('P07','PIPOCA 200G','UN',4.00,3.00,'2022-02-12',FALSE),
	   ('P08','PACOTE BALA 1KG','UN',7.89,6.50,'2021-12-24',FALSE),
	   ('P09','UVA','KG',4.50,3.00,'2021-12-24',FALSE),
	   ('P10','ABACAXI','KG',1.99,1.50,'2021-12-24',FALSE);

/*#4*/	   
ALTER TABLE PRODUTO ADD COLUMN TIPO VARCHAR (50);

/*#5*/
UPDATE PRODUTO SET TIPO = 'GELADEIRA' WHERE ID = 1
UPDATE PRODUTO SET TIPO = 'FARINACEOS' WHERE ID = 2
UPDATE PRODUTO SET TIPO = 'FEIRA' WHERE ID = 3
UPDATE PRODUTO SET TIPO = 'DOCES' WHERE ID = 4
UPDATE PRODUTO SET TIPO = 'FRUTAS' WHERE ID = 5
UPDATE PRODUTO SET TIPO = 'VERDURAS' WHERE ID = 6
UPDATE PRODUTO SET TIPO = 'ELETRODOMESTICOS' WHERE ID = 7
UPDATE PRODUTO SET TIPO = 'ELETRONICOS' WHERE ID = 8
UPDATE PRODUTO SET TIPO = 'SALGADOS' WHERE ID = 9
UPDATE PRODUTO SET TIPO = 'FRIOS' WHERE ID = 10

SELECT * FROM PRODUTO;

/*#6*/
CREATE TABLE CLIENTE (

	
	NOME VARCHAR (150) NOT NULL,
	CODIGO VARCHAR (3) NOT NULL,
	CPF VARCHAR (11) NOT NULL,
	TELEFONE VARCHAR (11) NOT NULL,
	DATACADASTRO DATE NOT NULL,
	OBSERVACOES VARCHAR (18) NOT NULL,
	INATIVO BOOLEAN
	
);
SELECT * FROM CLIENTE;

/*#7*/
INSERT INTO CLIENTE (NOME,CODIGO,CPF,TELEFONE,DATACADASTRO,OBSERVACOES,INATIVO)

VALUES  ('MARIA SILVA','C01','12345678910','4334721122','2021-12-01','CLIENTE BOM',FALSE),
	    ('JOAO SANTOS','C02','98765432100','4334723020','2021-12-01','CLIENTE BOM',FALSE),
		('ANA COSTA','C03','45678912345','4334721152','2022-01-14','CLIENTE RUIM',FALSE),
		('PEDRO SOUZA','C04','3216548711','4334721011','2022-01-14','CLIENTE REGULAR',FALSE),
		('LUCAS FERREIRA','C05','74185296300','4334728085','2022-01-14','CLIENTE REGULAR',FALSE),
		('JULIA OLIVEIRA','C06','36925814722','4334722310','2022-06-06','CLIENTE EXCELENTE',FALSE);
		

/*#8*/
ALTER TABLE CLIENTE ADD COLUMN ID SERIAL;	
ALTER TABLE CLIENTE ADD CONSTRAINT PK_ID PRIMARY KEY (ID);

/*#8.1*/
SELECT * FROM CLIENTE;

/*#9*/
ALTER TABLE PRODUTO ADD COLUMN QTDESTOQUE FLOAT;

/*#10*/
UPDATE PRODUTO SET QTDESTOQUE= 8  WHERE ID = 1
UPDATE PRODUTO SET QTDESTOQUE= 20 WHERE ID = 2
UPDATE PRODUTO SET QTDESTOQUE= 25 WHERE ID = 3
UPDATE PRODUTO SET QTDESTOQUE= 21 WHERE ID = 4
UPDATE PRODUTO SET QTDESTOQUE= 13 WHERE ID = 5
UPDATE PRODUTO SET QTDESTOQUE= 17 WHERE ID = 6
UPDATE PRODUTO SET QTDESTOQUE= 22 WHERE ID = 7
UPDATE PRODUTO SET QTDESTOQUE= 19 WHERE ID = 8
UPDATE PRODUTO SET QTDESTOQUE= 90 WHERE ID = 9
UPDATE PRODUTO SET QTDESTOQUE= 76 WHERE ID = 10

/*#10.1*/
SELECT * FROM PRODUTO;

/*#10*/
SELECT * FROM PRODUTO WHERE CUSTO > 4.00; 

/*#11*/
SELECT * FROM CLIENTE WHERE OBSERVACOES = 'CLIENTE BOM'

/*#12*/
SELECT DESCRICAO,CODIGO,UNIDADEMEDIDA,VALOR FROM PRODUTO WHERE UNIDADEMEDIDA = 'UN'

/*#13*/
SELECT * FROM PRODUTO WHERE DATACADASTRO > '2022-01-01' AND CUSTO < 4.00 AND VALOR < 10.00;




